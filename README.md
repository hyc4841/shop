# shop
JPA를 이용한 쇼핑몰 API 서버

jwt를 이용한 로그인 구현

restful api 설계

새로안 사실들
- ControllerAdvice로 필터에서 발생한 예외를 api로 처리하지 못한다. 필터가 컨트롤러 보다 먼저 실행되기 때문

- 리액트 : 훅 안에서 다른 훅을 사용 못한다?
- 리액트 : 본문에 useState를 그대로 사용하면 무한 재렌더링이 일어나 오류를 유발하기 때문에 함수 안으로 감싸서 사용하는것이 좋다
- useEffect도 마찬가지로 안에 useState를 사용할 때, 의존성 배열을 제대로 설정 안해주면 무한 재렌더링에 빠질 수 있다.

jwt 흐름
- 로그인 될 때 리프레시 토큰이 redis에 저장되며, 만약 이전에 리프레시가 저장되어 있으면 갱신된다.
- 엑세스 토큰이 만료되었을 때 바로 쿠키에 담겨 있는 리프레시 토큰을 읽어서 유효성을 검증한 후에 엑세스 토큰을 다시 발급해주는 식으로